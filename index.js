(()=>{"use strict";var e,t={581:(e,t,o)=>{var n=o(477),i=o(365),a=o(217),r=o(890),s=o(637),l=o(194),c=o(623);function d(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,t){if(e){if("string"==typeof e)return m(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?m(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,s=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return r=e.done,e},e:function(e){s=!0,a=e},f:function(){try{r||null==o.return||o.return()}finally{if(s)throw a}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}window.three=n;var h=!1,u=!1;"#debug"===window.location.hash&&(h=!1,u=!0);var p={TRANS_MAX:.95},f=p.TRANS_MAX,v=!1,w=new r._;w.setDecoderPath("/draco/");var g=new a.E;g.setDRACOLoader(w);var y=new n.TextureLoader,x=null;u&&(x=new s.XS);var S=document.querySelector("canvas.webgl"),b=document.querySelector("canvas.canvas2"),M=new n.Scene,A=y.load("/textures/eyes.png");A.generateMipmaps=!1,A.minFilter=n.NearestFilter,A.center.set(.5,.5);var P=null,I=[],C=[];window.robotColors=I,window.robotBW=C;var L=null;g.load("/models/heroRobot/Hero_robot.glb",(function(e){M.add(e.scene),window.robot=e.scene,e.castShadow=!0;for(var t=0;t<e.scene.children.length;t++){var o=e.scene.children[t];o.castShadow=!0,"displayImg"===o.name&&(o.material.transperent=!0,o.material.map=A,o.material.emissive.set("#000000"),o.material.emissiveMap=A,L=o.material),I[t]=new n.Color,I[t].lerp(o.material.color,1);var i=(o.material.color.r+o.material.color.g+o.material.color.b)/3;C[t]=new n.Color,C[t].r=C[t].g=C[t].b=i,o.material.color.lerp(C[t],1)}e.scene.position.set(4,0,4),e.scene.lookAt(4,0,10),e.scene.rotation.y=Math.PI,P=e,W.lookAt(e.scene.position),x&&x.add(e.scene.rotation,"y").min(-Math.PI).max(Math.PI).step(.01).name("Robot Rotation")}));var z={utransition:{value:0},uColor:{value:new n.Vector3(0,0,0)}},R=new n.MeshPhysicalMaterial({metalness:0,roughness:1,transparent:!0,color:"#d3d3d3"});R.onBeforeCompile=function(e){e.uniforms.utransition=z.utransition,e.uniforms.uColor=z.uColor,e.vertexShader=e.vertexShader.replace("#include <common>","\n        #define USE_UV\n    #include <common>\n    ".concat("uniform float utransition;\r\nuniform vec3 uColor;\r\nvarying float vtransition;\r\nvarying vec3 vColor;\r\n\r\n","\n    ")),e.vertexShader=e.vertexShader.replace("#include <uv_vertex>","\n        #include <uv_vertex>\n        vtransition = utransition;\n        vColor = uColor;\n    "),e.fragmentShader=e.fragmentShader.replace("#include <common>","\n        #include <common>\n        #define USE_UV\n        varying float vtransition;\n        varying vec3 vColor;\n    "),e.fragmentShader=e.fragmentShader.replace("#include <color_fragment>","float colorx = 1.0 - step(mod(vUv.x * 100.0, 1.0), vtransition-0.01);\r\nfloat colory = 1.0 - step(mod(vUv.y * 100.0, 1.0), vtransition-0.01);\r\nfloat final = colorx * colory;\r\ndiffuseColor= vec4(diffuseColor.rgb, final);\r\n")};var E=new n.Mesh(new n.PlaneGeometry(300,300),R);E.position.z=-5,E.position.x=-25,E.receiveShadow=!0,M.add(E),document.getElementsByClassName("hero-text")[0];var T=document.getElementsByClassName("hero-text")[1],X=document.getElementsByClassName("tag-line")[0],O=0,Y=function(){!P||h||v||(f===p.TRANS_MAX?(f=0,new l.kX({camX:B.position.x,camY:B.position.y,camZ:B.position.z,ambInten:0,time:1,heroSpotLightPosX:W.position.x,transitionAni:O,robotRotationY:P.scene.rotation.y}).to({camX:9,camY:2,camZ:10,ambInten:.1,time:0,heroSpotLightPosX:42,transitionAni:p.TRANS_MAX,robotRotationY:3.84}).onUpdate((function(e){B.position.set(e.camX,e.camY,e.camZ);var t=0;O=e.transitionAni;var o,i=d(P.scene.children);try{for(i.s();!(o=i.n()).done;){var a=o.value;a.material.color.lerp(I[t],1-e.time),"headDisplayBorder"===a.name&&console.log(a.material.color),t++}}catch(e){i.e(e)}finally{i.f()}W.position.x=e.heroSpotLightPosX,P.scene.rotation.y=e.robotRotationY,z.utransition.value=e.transitionAni,q.intensity=e.ambInten,T.style.color="hsl(100, 0%, ".concat(100*e.time,"%)"),X.style.color="hsl(100, 0%, ".concat(100*e.time,"%)");var r=.5*(1-e.time),s=new n.Color(r,r,r);L.emissive.copy(s)})).easing(l.oY.Exponential.In).onStart((function(){console.log("Animation stoped"),H.stop()})).start()):(f=p.TRANS_MAX,new l.kX({camX:B.position.x,camY:B.position.y,camZ:B.position.z,ambInten:.1,time:0,transitionAni:O,robotRotationY:P.scene.rotation.y}).to({camX:13.75,camY:2.14,camZ:15.22,ambInten:0,time:1,transitionAni:0,robotRotationY:Math.PI}).onUpdate((function(e){B.position.set(e.camX,e.camY,e.camZ);var t=0;O=e.transitionAni;var o,i=d(P.scene.children);try{for(i.s();!(o=i.n()).done;){var a=o.value;a.material.color.lerp(C[t],e.time),"headDisplayBorder"===a.name&&console.log(a.material.color),t++}}catch(e){i.e(e)}finally{i.f()}P.scene.rotation.y=e.robotRotationY,z.utransition.value=e.transitionAni,q.intensity=e.ambInten,T.style.color="hsl(100, 0%, ".concat(100*e.time,"%)"),X.style.color="hsl(100, 0%, ".concat(100*e.time,"%)");var r=.5*(1-e.time),s=new n.Color(r,r,r);L.emissive.copy(s)})).easing(l.oY.Exponential.In).onComplete((function(){console.log("Animation started"),H.start()})).start()))};document.querySelector(".heroWrapper").addEventListener("mouseup",Y);var k={width:window.innerWidth,height:window.innerHeight},B=new n.PerspectiveCamera(75,k.width/k.height,.1,200);B.position.set(13.75,2.14,15.22),B.rotation.set(-.5184,1.26,.5),M.add(B);var _=null;h&&((_=new i.z(B,S)).enableDamping=!0);var j=new n.WebGLRenderer({canvas:S});j.setSize(k.width,k.height),j.setPixelRatio(Math.min(window.devicePixelRatio,2)),j.outputEncoding=n.sRGBEncoding,j.setClearAlpha(0),j.shadowMap.enabled=!0,x&&(x.add(B.position,"x").min(-50).max(20).step(.1),x.add(B.position,"y").min(-50).max(20).step(.1),x.add(B.position,"z").min(-50).max(20).step(.1),x.add(B.rotation,"x").min(-Math.PI).max(Math.PI).step(.01),x.add(B.rotation,"y").min(-Math.PI).max(Math.PI).step(.01),x.add(B.rotation,"z").min(-Math.PI).max(Math.PI).step(.01),p.logCamera=function(){console.log(B.position),console.log(B.rotation),console.log(B.quaternion)},x.add(p,"logCamera").name("logCamera"));var q=new n.AmbientLight("#d3d3d3",0);M.add(q);var N=new n.DirectionalLight("#ffffff",.1),W=new n.SpotLight("#ffffff",2,100,Math.PI/10);W.position.set(120,24,-7),W.castShadow=!0,W.shadow.mapSize.width=512,W.shadow.mapSize.height=512,W.shadow.camera.near=1,W.shadow.camera.far=50,W.shadow.camera.fov=30,x&&(x.add(q,"intensity").min(0).max(2).step(.01).name("Ambient Light"),x.add(N.position,"x").min(-50).max(50).step(.1),x.add(N.position,"y").min(-50).max(50).step(.1),x.add(N.position,"z").min(-50).max(50).step(.1),x.add(N,"intensity").min(0).max(2).step(.01).name("SpotLight")),M.add(W);var H=new l.kX({x:W.position.x,inten:W.intensity}).to({x:-80}).easing(l.oY.Linear.None).duration(4e3).onUpdate((function(e){W.position.x=e.x})).repeat(1/0);if(H.start(),window.spotLight=W,h){var U=new n.SpotLightHelper(W);M.add(U)}E.lookAt(B.position);var D=document.querySelectorAll(".fade-in"),G=new IntersectionObserver((function(e,t){e.forEach((function(e){e.isIntersecting?e.target.classList.add("appear"):e.target.classList.remove("appear")}))}),{threshold:1,rootMargin:"0px 0px -50% 0px"});D.forEach((function(e){G.observe(e)})),window.addEventListener("scroll",(function(){window.scrollY>20&&!v?(f==p.TRANS_MAX&&Y(),v=!0):window.scrollY<20&&v&&(v=!1,0==f&&Y())})),document.getElementById("form-submit").addEventListener("click",(function(e){e.preventDefault();var t=document.getElementById("form-name").value,o=document.getElementById("form-email").value;if(console.log(o,t),t.length<=0||!(0,c.Z)(o)){var n=document.getElementById("email-response");return n.innerHTML="Enter valid data",n.classList.add("appear"),setTimeout((function(){n.classList.remove("appear")}),2e3),void setTimeout((function(){n.innerHTML="Thanks for your response"}),2500)}fetch("https://backend.ackrobotics.com/api/getInTouch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:o})}).then((function(e){if(e.ok)return e.json();throw"Server error"})).then((function(e){console.log(e);var t=document.getElementById("email-response");t.classList.add("appear"),setTimeout((function(){t.classList.remove("appear")}),2e3),document.getElementById("form-name").value="",document.getElementById("form-email").value=""})).catch((function(e){console.log(e)}))}));var V=new n.Scene,Z=null,F=[],J=[];J.push(document.querySelector("#trottle1")),J.push(document.querySelector("#trottle2")),J.push(document.querySelector("#trottle3")),J.push(document.querySelector("#trottle4")),console.log(J),g.load("./models/drone/drone.glb",(function(e){e.scene.scale.set(.2,.2,.2),(Z=e.scene).position.y=15,Z.rotation.y=.5*-Math.PI,V.add(Z),console.log(Z);var t,o=d(Z.children);try{for(o.s();!(t=o.n()).done;){var n=t.value;n.name.startsWith("rot")&&F.push(n)}}catch(e){o.e(e)}finally{o.f()}window.addEventListener("mousemove",(function(e){var t=e.pageX/window.innerWidth-.5,o=e.clientY/window.innerHeight-.5;Q.position.x=70*o,Q.position.z=200*-t,f!=p.TRANS_MAX&&(o=-1*(Math.min(e.pageY,k.height)/k.height-.5),B.position.x=9+t,B.position.y=2+o)}))}));var Q=new n.Mesh(new n.SphereGeometry(1,32,32),new n.MeshStandardMaterial({roughness:.7}));Q.position.y=15,V.add(Q);var $=new n.AmbientLight("#ffffff",.5);V.add($);var K=new n.DirectionalLight("#ffffff",.5);K.position.set(4,5,-2),V.add(K);var ee={width:window.innerWidth,height:b.offsetHeight};window.addEventListener("resize",(function(){ee.width=window.innerWidth,ee.height=b.offsetHeight,te.aspect=ee.width/ee.height,te.updateProjectionMatrix(),ne.setSize(ee.width,ee.height),ne.setPixelRatio(Math.min(window.devicePixelRatio,2))}));var te=new n.PerspectiveCamera(75,ee.width/ee.height,.15,200);te.position.x=35,te.position.y=18,te.position.z=0,te.rotation.set(-1.59,0,1.6),V.add(te),p.logCamera2=function(){console.log(te.position),console.log(te.rotation),console.log(te.quaternion)};var oe=new n.Mesh(new n.PlaneGeometry(10,10),new n.MeshStandardMaterial({color:"#ff0000"}));oe.position.set(10,0,10),oe.name="0",oe.rotation.x=-Math.PI/2,V.add(oe),new n.Mesh(new n.OctahedronGeometry(1,0),new n.MeshStandardMaterial({color:"#ffffff"})).position.set(10,10,10);var ne=new n.WebGLRenderer({canvas:b});ne.setSize(ee.width,ee.height),ne.setPixelRatio(Math.min(window.devicePixelRatio,2)),ne.setClearAlpha(0),document.querySelectorAll(".hover-text");var ie=new n.BufferGeometry,ae=new Float32Array(42813),re=new n.PointsMaterial({color:"#ffffff",size:.4,sizeAttenuation:!0}),se=new n.Points(ie,re);se.rotation.x=.5*-Math.PI,se.position.set(0,0,0),V.add(se);var le=function(e,t){for(var o=0,i=-35;i<=35;i++)for(var a=-100;a<100;a++){ae[o++]=i,ae[o++]=a;var r=0;i-e<12&&a-t<12&&(r=5*Math.exp(-((i-e)*(i-e)+(a-t)*(a-t))/6)),ae[o++]=r}ie.setAttribute("position",new n.BufferAttribute(ae,3))};le(0,0);var ce=new n.Quaternion(0,0,0,1);ce.normalize(),window.addEventListener("resize",(function(){k.width=window.innerWidth,k.height=S.offsetHeight,B.aspect=k.width/k.height,B.updateProjectionMatrix(),j.setSize(k.width,k.height),j.setPixelRatio(Math.min(window.devicePixelRatio,2)),ee.width=window.innerWidth,ee.height=b.offsetHeight,te.aspect=ee.width/ee.height,te.updateProjectionMatrix(),ne.setSize(ee.width,ee.height),ne.setPixelRatio(Math.min(window.devicePixelRatio,2))})),te.lookAt(0,0,0);var de=new n.Clock;!function e(t){var o=de.getElapsedTime();o,h&&_.update(o),l.Vx(t),Z&&(Z.quaternion.normalize(),function(e){var t=new n.Vector3;t.subVectors(Q.position,Z.position);var o=Math.min(t.length(),25);t.normalize(),t.multiplyScalar(o),J[0].style.height="".concat(27-.4*t.z+.4*t.x,"%"),J[1].style.height="".concat(27+.4*t.z+.4*t.x,"%"),J[2].style.height="".concat(27-.4*t.z-.4*t.x,"%"),J[3].style.height="".concat(27+.4*t.z-.4*t.x,"%"),t.multiplyScalar(.032),ce.set(.3*t.z,0,-.5*t.x,1),ce.normalize(),Z.quaternion.copy(ce),Z.position.addVectors(Z.position,t),le(Z.position.x,-Z.position.z);var i,a=d(F);try{for(a.s();!(i=a.n()).done;){var r=i.value;r.rotation.y=r.rotation.y+.32}}catch(e){a.e(e)}finally{a.f()}}()),j.render(M,B),ne.render(V,te),window.requestAnimationFrame(e)}()}},o={};function n(e){var i=o[e];if(void 0!==i)return i.exports;var a=o[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.m=t,e=[],n.O=(t,o,i,a)=>{if(!o){var r=1/0;for(d=0;d<e.length;d++){for(var[o,i,a]=e[d],s=!0,l=0;l<o.length;l++)(!1&a||r>=a)&&Object.keys(n.O).every((e=>n.O[e](o[l])))?o.splice(l--,1):(s=!1,a<r&&(r=a));if(s){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[o,i,a]},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={826:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var i,a,[r,s,l]=o,c=0;if(r.some((t=>0!==e[t]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)var d=l(n)}for(t&&t(o);c<r.length;c++)a=r[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(d)},o=self.webpackChunk=self.webpackChunk||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var i=n.O(void 0,[601],(()=>n(581)));i=n.O(i)})();
//# sourceMappingURL=index.js.map