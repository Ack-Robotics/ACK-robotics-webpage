(()=>{"use strict";var e,t={581:(e,t,o)=>{var n=o(477),i=o(365),a=o(217),r=o(854),s=o(637),l=o(194),c=o(623),d=o(468);function m(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,t){if(e){if("string"==typeof e)return h(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,s=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return r=e.done,e},e:function(e){s=!0,a=e},f:function(){try{r||null==o.return||o.return()}finally{if(s)throw a}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}window.three=n;var u=!1,p=!1;"#debug"===window.location.hash&&(u=!1,p=!0);var v={TRANS_MAX:.95},f=v.TRANS_MAX,g=!1,w=new r._;w.setDecoderPath("/draco/");var y=new a.E;y.setDRACOLoader(w);var x=new n.TextureLoader,b=null;p&&(b=new s.XS);var S=document.querySelector("canvas.webgl"),M=document.querySelector("canvas.canvas2"),A=new n.Scene,P=x.load("/textures/eyes.png");P.generateMipmaps=!1,P.minFilter=n.NearestFilter,P.center.set(.5,.5);var I=null,L=[],E=[];window.robotColors=L,window.robotBW=E;var C=null;y.load("/models/heroRobot/Hero_robot.glb",(function(e){A.add(e.scene),window.robot=e.scene,e.castShadow=!0;for(var t=0;t<e.scene.children.length;t++){var o=e.scene.children[t];o.castShadow=!0,"displayImg"===o.name&&(o.material.transperent=!0,o.material.map=P,o.material.emissive.set("#000000"),o.material.emissiveMap=P,C=o.material),L[t]=new n.Color,L[t].lerp(o.material.color,1);var i=(o.material.color.r+o.material.color.g+o.material.color.b)/3;E[t]=new n.Color,E[t].r=E[t].g=E[t].b=i,o.material.color.lerp(E[t],1)}e.scene.position.set(4,0,4),e.scene.lookAt(4,0,10),e.scene.rotation.y=Math.PI,I=e,D.lookAt(e.scene.position),b&&b.add(e.scene.rotation,"y").min(-Math.PI).max(Math.PI).step(.01).name("Robot Rotation")}));var R={utransition:{value:0},uColor:{value:new n.Vector3(0,0,0)}},z=new n.MeshPhysicalMaterial({metalness:0,roughness:1,transparent:!0,color:"#d3d3d3"});z.onBeforeCompile=function(e){e.uniforms.utransition=R.utransition,e.uniforms.uColor=R.uColor,e.vertexShader=e.vertexShader.replace("#include <common>","\n        #define USE_UV\n    #include <common>\n    ".concat("uniform float utransition;\nuniform vec3 uColor;\nvarying float vtransition;\nvarying vec3 vColor;\n\n","\n    ")),e.vertexShader=e.vertexShader.replace("#include <uv_vertex>","\n        #include <uv_vertex>\n        vtransition = utransition;\n        vColor = uColor;\n    "),e.fragmentShader=e.fragmentShader.replace("#include <common>","\n        #include <common>\n        #define USE_UV\n        varying float vtransition;\n        varying vec3 vColor;\n    "),e.fragmentShader=e.fragmentShader.replace("#include <color_fragment>","float colorx = 1.0 - step(mod(vUv.x * 100.0, 1.0), vtransition-0.01);\nfloat colory = 1.0 - step(mod(vUv.y * 100.0, 1.0), vtransition-0.01);\nfloat final = colorx * colory;\ndiffuseColor= vec4(diffuseColor.rgb, final);\n")};var T=new n.Mesh(new n.PlaneGeometry(300,300),z);T.position.z=-5,T.position.x=-25,T.receiveShadow=!0,A.add(T),document.getElementsByClassName("hero-text")[0];var B=document.getElementsByClassName("hero-text")[1],X=document.getElementsByClassName("tag-line")[0],k=0,O=function(){!I||u||g||(f===v.TRANS_MAX?(f=0,new l.kX({camX:_.position.x,camY:_.position.y,camZ:_.position.z,ambInten:0,time:1,heroSpotLightPosX:D.position.x,transitionAni:k,robotRotationY:I.scene.rotation.y}).to({camX:9,camY:2,camZ:10,ambInten:.1,time:0,heroSpotLightPosX:42,transitionAni:v.TRANS_MAX,robotRotationY:3.84}).onUpdate((function(e){_.position.set(e.camX,e.camY,e.camZ);var t=0;k=e.transitionAni;var o,i=m(I.scene.children);try{for(i.s();!(o=i.n()).done;){var a=o.value;a.material.color.lerp(L[t],1-e.time),"headDisplayBorder"===a.name&&console.log(a.material.color),t++}}catch(e){i.e(e)}finally{i.f()}D.position.x=e.heroSpotLightPosX,I.scene.rotation.y=e.robotRotationY,R.utransition.value=e.transitionAni,N.intensity=e.ambInten,B.style.color="hsl(100, 0%, ".concat(100*e.time,"%)"),X.style.color="hsl(100, 0%, ".concat(100*e.time,"%)");var r=.5*(1-e.time),s=new n.Color(r,r,r);C.emissive.copy(s)})).easing(l.oY.Exponential.In).onStart((function(){console.log("Animation stoped"),W.stop()})).start()):(f=v.TRANS_MAX,new l.kX({camX:_.position.x,camY:_.position.y,camZ:_.position.z,ambInten:.1,time:0,transitionAni:k,robotRotationY:I.scene.rotation.y}).to({camX:13.75,camY:2.14,camZ:15.22,ambInten:0,time:1,transitionAni:0,robotRotationY:Math.PI}).onUpdate((function(e){_.position.set(e.camX,e.camY,e.camZ);var t=0;k=e.transitionAni;var o,i=m(I.scene.children);try{for(i.s();!(o=i.n()).done;){var a=o.value;a.material.color.lerp(E[t],e.time),"headDisplayBorder"===a.name&&console.log(a.material.color),t++}}catch(e){i.e(e)}finally{i.f()}I.scene.rotation.y=e.robotRotationY,R.utransition.value=e.transitionAni,N.intensity=e.ambInten,B.style.color="hsl(100, 0%, ".concat(100*e.time,"%)"),X.style.color="hsl(100, 0%, ".concat(100*e.time,"%)");var r=.5*(1-e.time),s=new n.Color(r,r,r);C.emissive.copy(s)})).easing(l.oY.Exponential.In).onComplete((function(){console.log("Animation started"),W.start()})).start()))};document.querySelector(".heroWrapper").addEventListener("mouseup",O),window.addEventListener("load",(function(){setTimeout(O,3e3)}));var Y={width:window.innerWidth,height:window.innerHeight},_=new n.PerspectiveCamera(75,Y.width/Y.height,.1,200);_.position.set(13.75,2.14,15.22),_.rotation.set(-.5184,1.26,.5),A.add(_);var j=null;u&&((j=new i.z(_,S)).enableDamping=!0);var q=new n.WebGLRenderer({canvas:S});q.setSize(Y.width,Y.height),q.setPixelRatio(Math.min(window.devicePixelRatio,2)),q.outputEncoding=n.sRGBEncoding,q.setClearAlpha(0),q.shadowMap.enabled=!0,b&&(b.add(_.position,"x").min(-50).max(20).step(.1),b.add(_.position,"y").min(-50).max(20).step(.1),b.add(_.position,"z").min(-50).max(20).step(.1),b.add(_.rotation,"x").min(-Math.PI).max(Math.PI).step(.01),b.add(_.rotation,"y").min(-Math.PI).max(Math.PI).step(.01),b.add(_.rotation,"z").min(-Math.PI).max(Math.PI).step(.01),v.logCamera=function(){console.log(_.position),console.log(_.rotation),console.log(_.quaternion)},b.add(v,"logCamera").name("logCamera"));var N=new n.AmbientLight("#d3d3d3",0);A.add(N);var D=new n.SpotLight("#ffffff",2,100,Math.PI/10);D.position.set(120,24,-7),D.castShadow=!0,D.shadow.mapSize.width=512,D.shadow.mapSize.height=512,D.shadow.camera.near=1,D.shadow.camera.far=50,D.shadow.camera.fov=30,b&&(b.add(N,"intensity").min(0).max(2).step(.01).name("Ambient Light"),b.add(heroDirectionalLight.position,"x").min(-50).max(50).step(.1),b.add(heroDirectionalLight.position,"y").min(-50).max(50).step(.1),b.add(heroDirectionalLight.position,"z").min(-50).max(50).step(.1),b.add(heroDirectionalLight,"intensity").min(0).max(2).step(.01).name("SpotLight")),A.add(D);var W=new l.kX({x:D.position.x,inten:D.intensity}).to({x:-80}).easing(l.oY.Linear.None).duration(4e3).onUpdate((function(e){D.position.x=e.x})).repeat(1/0);if(W.start(),window.spotLight=D,u){var H=new n.SpotLightHelper(D);A.add(H)}T.lookAt(_.position);var U=document.querySelectorAll(".fade-in"),Z=document.getElementById("control-fade"),G=document.getElementById("we-provide-title");console.log(U);var V=new IntersectionObserver((function(e,t){e.forEach((function(e){e.intersectionRatio<.5?e.target.classList.remove("appear"):e.target.classList.add("appear")})),Z.classList.contains("appear")?(G.classList.add("appear"),console.log("added")):(G.classList.remove("appear"),console.log("removed"))}),{threshold:[0,.5],rootMargin:"-25% 0px -45% 0px"});U.forEach((function(e){V.observe(e)})),window.addEventListener("scroll",(function(){window.scrollY>20&&!g?(f==v.TRANS_MAX&&O(),g=!0):window.scrollY<20&&g&&(g=!1,0==f&&O())})),document.getElementById("form-submit").addEventListener("click",(function(e){e.preventDefault();var t=document.getElementById("form-name").value,o=document.getElementById("form-email").value,n=document.getElementById("form-message").value;if(console.log(o,t),t.length<=0||!(0,c.Z)(o)){var i=document.getElementById("email-response");return i.innerHTML="Enter valid data",i.classList.add("appear"),setTimeout((function(){i.classList.remove("appear")}),2e3),void setTimeout((function(){i.innerHTML="Thanks for your response"}),2100)}fetch("https://backend.ackrobotics.com/api/getInTouch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:o,message:n})}).then((function(e){if(e.ok)return e.json();throw"Server error"})).then((function(e){console.log(e);var t=document.getElementById("email-response");t.classList.add("appear"),setTimeout((function(){t.classList.remove("appear")}),2e3),document.getElementById("form-name").value="",document.getElementById("form-email").value="",document.getElementById("form-message").value=""})).catch((function(e){console.log(e)}))}));var F=new n.Scene,J=null,Q=[],$=[];$.push(document.querySelector("#trottle1")),$.push(document.querySelector("#trottle2")),$.push(document.querySelector("#trottle3")),$.push(document.querySelector("#trottle4")),console.log($),y.load("./models/drone/drone.glb",(function(e){e.scene.scale.set(.2,.2,.2),(J=e.scene).position.y=15,J.rotation.y=.5*-Math.PI,F.add(J),console.log(J);var t,o=m(J.children);try{for(o.s();!(t=o.n()).done;){var n=t.value;n.name.startsWith("rot")&&Q.push(n)}}catch(e){o.e(e)}finally{o.f()}window.addEventListener("mousemove",(function(e){var t=e.pageX/window.innerWidth-.5,o=e.clientY/window.innerHeight-.5;K.position.x=70*o,K.position.z=200*-t,f!=v.TRANS_MAX&&(o=-1*(Math.min(e.pageY,Y.height)/Y.height-.5),_.position.x=9+t,_.position.y=2+o)}))}));var K=new n.Mesh(new n.SphereGeometry(1,32,32),new n.MeshStandardMaterial({roughness:.7}));K.position.y=15,F.add(K);var ee=new n.AmbientLight("#ffffff",.5);F.add(ee);var te=new n.DirectionalLight("#ffffff",.5);te.position.set(4,5,-2),F.add(te);var oe={width:window.innerWidth,height:M.offsetHeight};window.addEventListener("resize",(function(){oe.width=window.innerWidth,oe.height=M.offsetHeight,ne.aspect=oe.width/oe.height,ne.updateProjectionMatrix(),ae.setSize(oe.width,oe.height),ae.setPixelRatio(Math.min(window.devicePixelRatio,2))}));var ne=new n.PerspectiveCamera(75,oe.width/oe.height,.15,200);ne.position.x=35,ne.position.y=18,ne.position.z=0,ne.rotation.set(-1.59,0,1.6),F.add(ne),v.logCamera2=function(){console.log(ne.position),console.log(ne.rotation),console.log(ne.quaternion)};var ie=new n.Mesh(new n.PlaneGeometry(10,10),new n.MeshStandardMaterial({color:"#ff0000"}));ie.position.set(10,0,10),ie.name="0",ie.rotation.x=-Math.PI/2,F.add(ie);var ae=new n.WebGLRenderer({canvas:M});ae.setSize(oe.width,oe.height),ae.setPixelRatio(Math.min(window.devicePixelRatio,2)),ae.setClearAlpha(0),document.querySelectorAll(".hover-text");var re=new n.BufferGeometry,se=new Float32Array(42813),le=new n.PointsMaterial({color:"#ffffff",size:.4,sizeAttenuation:!0}),ce=new n.Points(re,le);ce.rotation.x=.5*-Math.PI,ce.position.set(0,0,0),F.add(ce);var de=function(e,t){for(var o=0,i=-35;i<=35;i++)for(var a=-100;a<100;a++){se[o++]=i,se[o++]=a;var r=0;i-e<12&&a-t<12&&(r=5*Math.exp(-((i-e)*(i-e)+(a-t)*(a-t))/6)),se[o++]=r}re.setAttribute("position",new n.BufferAttribute(se,3))};de(0,0);var me=new n.Quaternion(0,0,0,1);me.normalize(),window.addEventListener("resize",(function(){Y.width=window.innerWidth,Y.height=S.offsetHeight,_.aspect=Y.width/Y.height,_.updateProjectionMatrix(),q.setSize(Y.width,Y.height),q.setPixelRatio(Math.min(window.devicePixelRatio,2)),oe.width=window.innerWidth,oe.height=M.offsetHeight,ne.aspect=oe.width/oe.height,ne.updateProjectionMatrix(),ae.setSize(oe.width,oe.height),ae.setPixelRatio(Math.min(window.devicePixelRatio,2))})),ne.lookAt(0,0,0);var he=new n.Clock;new d.Z(".swiper",{loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),function e(t){var o=he.getElapsedTime();o,u&&j.update(o),l.Vx(t),J&&(J.quaternion.normalize(),function(e){var t=new n.Vector3;t.subVectors(K.position,J.position);var o=Math.min(t.length(),25);t.normalize(),t.multiplyScalar(o),$[0].style.height="".concat(27-.4*t.z+.4*t.x,"%"),$[1].style.height="".concat(27+.4*t.z+.4*t.x,"%"),$[2].style.height="".concat(27-.4*t.z-.4*t.x,"%"),$[3].style.height="".concat(27+.4*t.z-.4*t.x,"%"),t.multiplyScalar(.032),me.set(.3*t.z,0,-.5*t.x,1),me.normalize(),J.quaternion.copy(me),J.position.addVectors(J.position,t),de(J.position.x,-J.position.z);for(var i=0,a=Q;i<a.length;i++){var r=a[i];r.rotation.y=r.rotation.y+.32}}()),q.render(A,_),ae.render(F,ne),window.requestAnimationFrame(e)}()}},o={};function n(e){var i=o[e];if(void 0!==i)return i.exports;var a=o[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.m=t,e=[],n.O=(t,o,i,a)=>{if(!o){var r=1/0;for(d=0;d<e.length;d++){for(var[o,i,a]=e[d],s=!0,l=0;l<o.length;l++)(!1&a||r>=a)&&Object.keys(n.O).every((e=>n.O[e](o[l])))?o.splice(l--,1):(s=!1,a<r&&(r=a));if(s){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[o,i,a]},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={826:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var i,a,[r,s,l]=o,c=0;if(r.some((t=>0!==e[t]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)var d=l(n)}for(t&&t(o);c<r.length;c++)a=r[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(d)},o=self.webpackChunk=self.webpackChunk||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var i=n.O(void 0,[716],(()=>n(581)));i=n.O(i)})();
//# sourceMappingURL=index.js.map