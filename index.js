(()=>{"use strict";var e,t={214:(e,t,n)=>{var o=n(477),i=n(365),a=n(217),r=n(890),s={send:function(e){return new Promise((function(t,n){e.nocache=Math.floor(1e6*Math.random()+1),e.Action="Send";var o=JSON.stringify(e);s.ajaxPost("https://smtpjs.com/v3/smtpjs.aspx?",o,(function(e){t(e)}))}))},ajaxPost:function(e,t,n){var o=s.createCORSRequest("POST",e);o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.onload=function(){var e=o.responseText;null!=n&&n(e)},o.send(t)},ajax:function(e,t){var n=s.createCORSRequest("GET",e);n.onload=function(){var e=n.responseText;null!=t&&t(e)},n.send()},createCORSRequest:function(e,t){var n=new XMLHttpRequest;return"withCredentials"in n?n.open(e,t,!0):"undefined"!=typeof XDomainRequest?(n=new XDomainRequest).open(e,t):n=null,n}},l=n(637),c=n(194);function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw a}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}window.three=o;var h=!1,u=!1;"#debug"===window.location.hash&&(h=!1,u=!0);var p={TRANS_MAX:.95},f=p.TRANS_MAX,v=!1,w=new r._;w.setDecoderPath("/draco/");var g=new a.E;g.setDRACOLoader(w);var y=new o.TextureLoader,x=null;u&&(x=new l.XS);var S=document.querySelector("canvas.webgl"),b=document.querySelector("canvas.canvas2"),M=new o.Scene,A=y.load("/textures/eyes.png");A.generateMipmaps=!1,A.minFilter=o.NearestFilter,A.center.set(.5,.5);var P=null,C=[],R=[];window.robotColors=C,window.robotBW=R;var I=null;g.load("/models/heroRobot/Hero_robot.glb",(function(e){M.add(e.scene),window.robot=e.scene,e.castShadow=!0;for(var t=0;t<e.scene.children.length;t++){var n=e.scene.children[t];n.castShadow=!0,"displayImg"===n.name&&(n.material.transperent=!0,n.material.map=A,n.material.emissive.set("#000000"),n.material.emissiveMap=A,I=n.material),C[t]=new o.Color,C[t].lerp(n.material.color,1);var i=(n.material.color.r+n.material.color.g+n.material.color.b)/3;R[t]=new o.Color,R[t].r=R[t].g=R[t].b=i,n.material.color.lerp(R[t],1)}e.scene.position.set(4,0,4),e.scene.lookAt(4,0,10),e.scene.rotation.y=Math.PI,P=e,N.lookAt(e.scene.position),x&&x.add(e.scene.rotation,"y").min(-Math.PI).max(Math.PI).step(.01).name("Robot Rotation")}));var z={utransition:{value:0},uColor:{value:new o.Vector3(0,0,0)}},E=new o.MeshPhysicalMaterial({metalness:0,roughness:1,transparent:!0,color:"#d3d3d3"});E.onBeforeCompile=function(e){e.uniforms.utransition=z.utransition,e.uniforms.uColor=z.uColor,e.vertexShader=e.vertexShader.replace("#include <common>","\n        #define USE_UV\n    #include <common>\n    ".concat("uniform float utransition;\r\nuniform vec3 uColor;\r\nvarying float vtransition;\r\nvarying vec3 vColor;\r\n\r\n","\n    ")),e.vertexShader=e.vertexShader.replace("#include <uv_vertex>","\n        #include <uv_vertex>\n        vtransition = utransition;\n        vColor = uColor;\n    "),e.fragmentShader=e.fragmentShader.replace("#include <common>","\n        #include <common>\n        #define USE_UV\n        varying float vtransition;\n        varying vec3 vColor;\n    "),e.fragmentShader=e.fragmentShader.replace("#include <color_fragment>","float colorx = 1.0 - step(mod(vUv.x * 100.0, 1.0), vtransition-0.01);\r\nfloat colory = 1.0 - step(mod(vUv.y * 100.0, 1.0), vtransition-0.01);\r\nfloat final = colorx * colory;\r\ndiffuseColor= vec4(diffuseColor.rgb, final);\r\n")};var L=new o.Mesh(new o.PlaneGeometry(300,300),E);L.position.z=-5,L.position.x=-25,L.receiveShadow=!0,M.add(L),document.getElementsByClassName("hero-text")[0];var X=document.getElementsByClassName("hero-text")[1],O=document.getElementsByClassName("tag-line")[0],q=0,Y=function(){!P||h||v||(f===p.TRANS_MAX?(f=0,new c.kX({camX:T.position.x,camY:T.position.y,camZ:T.position.z,ambInten:0,time:1,heroSpotLightPosX:N.position.x,transitionAni:q,robotRotationY:P.scene.rotation.y}).to({camX:9,camY:2,camZ:10,ambInten:.1,time:0,heroSpotLightPosX:42,transitionAni:p.TRANS_MAX,robotRotationY:3.84}).onUpdate((function(e){T.position.set(e.camX,e.camY,e.camZ);var t=0;q=e.transitionAni;var n,i=d(P.scene.children);try{for(i.s();!(n=i.n()).done;){var a=n.value;a.material.color.lerp(C[t],1-e.time),"headDisplayBorder"===a.name&&console.log(a.material.color),t++}}catch(e){i.e(e)}finally{i.f()}N.position.x=e.heroSpotLightPosX,P.scene.rotation.y=e.robotRotationY,z.utransition.value=e.transitionAni,B.intensity=e.ambInten,X.style.color="hsl(100, 0%, ".concat(100*e.time,"%)"),O.style.color="hsl(100, 0%, ".concat(100*e.time,"%)");var r=.5*(1-e.time),s=new o.Color(r,r,r);I.emissive.copy(s)})).easing(c.oY.Exponential.In).onStart((function(){console.log("Animation stoped"),H.stop()})).start()):(f=p.TRANS_MAX,new c.kX({camX:T.position.x,camY:T.position.y,camZ:T.position.z,ambInten:.1,time:0,transitionAni:q,robotRotationY:P.scene.rotation.y}).to({camX:13.75,camY:2.14,camZ:15.22,ambInten:0,time:1,transitionAni:0,robotRotationY:Math.PI}).onUpdate((function(e){T.position.set(e.camX,e.camY,e.camZ);var t=0;q=e.transitionAni;var n,i=d(P.scene.children);try{for(i.s();!(n=i.n()).done;){var a=n.value;a.material.color.lerp(R[t],e.time),"headDisplayBorder"===a.name&&console.log(a.material.color),t++}}catch(e){i.e(e)}finally{i.f()}P.scene.rotation.y=e.robotRotationY,z.utransition.value=e.transitionAni,B.intensity=e.ambInten,X.style.color="hsl(100, 0%, ".concat(100*e.time,"%)"),O.style.color="hsl(100, 0%, ".concat(100*e.time,"%)");var r=.5*(1-e.time),s=new o.Color(r,r,r);I.emissive.copy(s)})).easing(c.oY.Exponential.In).onComplete((function(){console.log("Animation started"),H.start()})).start()))};document.querySelector(".heroWrapper").addEventListener("mouseup",Y);var j={width:window.innerWidth,height:window.innerHeight},T=new o.PerspectiveCamera(75,j.width/j.height,.1,200);T.position.set(13.75,2.14,15.22),T.rotation.set(-.5184,1.26,.5),M.add(T);var k=null;h&&((k=new i.z(T,S)).enableDamping=!0);var _=new o.WebGLRenderer({canvas:S});_.setSize(j.width,j.height),_.setPixelRatio(Math.min(window.devicePixelRatio,2)),_.outputEncoding=o.sRGBEncoding,_.setClearAlpha(0),_.shadowMap.enabled=!0,x&&(x.add(T.position,"x").min(-50).max(20).step(.1),x.add(T.position,"y").min(-50).max(20).step(.1),x.add(T.position,"z").min(-50).max(20).step(.1),x.add(T.rotation,"x").min(-Math.PI).max(Math.PI).step(.01),x.add(T.rotation,"y").min(-Math.PI).max(Math.PI).step(.01),x.add(T.rotation,"z").min(-Math.PI).max(Math.PI).step(.01),p.logCamera=function(){console.log(T.position),console.log(T.rotation),console.log(T.quaternion)},x.add(p,"logCamera").name("logCamera"));var B=new o.AmbientLight("#d3d3d3",0);M.add(B);var D=new o.DirectionalLight("#ffffff",.1),N=new o.SpotLight("#ffffff",2,100,Math.PI/10);N.position.set(120,24,-7),N.castShadow=!0,N.shadow.mapSize.width=512,N.shadow.mapSize.height=512,N.shadow.camera.near=1,N.shadow.camera.far=50,N.shadow.camera.fov=30,x&&(x.add(B,"intensity").min(0).max(2).step(.01).name("Ambient Light"),x.add(D.position,"x").min(-50).max(50).step(.1),x.add(D.position,"y").min(-50).max(50).step(.1),x.add(D.position,"z").min(-50).max(50).step(.1),x.add(D,"intensity").min(0).max(2).step(.01).name("SpotLight")),M.add(N);var H=new c.kX({x:N.position.x,inten:N.intensity}).to({x:-80}).easing(c.oY.Linear.None).duration(4e3).onUpdate((function(e){N.position.x=e.x})).repeat(1/0);if(H.start(),window.spotLight=N,h){var U=new o.SpotLightHelper(N);M.add(U)}L.lookAt(T.position);var W=document.querySelectorAll(".fade-in"),G=new IntersectionObserver((function(e,t){e.forEach((function(e){e.isIntersecting?e.target.classList.add("appear"):e.target.classList.remove("appear")}))}),{threshold:1,rootMargin:"0px 0px -50% 0px"});W.forEach((function(e){G.observe(e)})),window.addEventListener("scroll",(function(){window.scrollY>20&&!v?(f==p.TRANS_MAX&&Y(),v=!0):window.scrollY<20&&v&&(v=!1,0==f&&Y())})),document.getElementById("form-submit").addEventListener("click",(function(e){e.preventDefault(),s.send({Host:"smtp.elasticemail.com",Username:"smtp.ack@yahoo.com",Password:"707DE7F1426336F73AE34C57C1B9C2CD746D",To:"pranesh.k2213@gmail.com",From:document.getElementById("form-email").value,Subject:"new Enquiry",Body:"test"}).then((function(e){var t=document.getElementById("email-response");t.classList.add("appear"),setTimeout((function(){t.classList.remove("appear")}),2e3)}))}));var F=new o.Scene,V=null,Z=[],J=[];J.push(document.querySelector("#trottle1")),J.push(document.querySelector("#trottle2")),J.push(document.querySelector("#trottle3")),J.push(document.querySelector("#trottle4")),console.log(J),g.load("./models/drone/drone.glb",(function(e){e.scene.scale.set(.2,.2,.2),(V=e.scene).position.y=15,V.rotation.y=.5*-Math.PI,F.add(V),console.log(V);var t,n=d(V.children);try{for(n.s();!(t=n.n()).done;){var o=t.value;o.name.startsWith("rot")&&Z.push(o)}}catch(e){n.e(e)}finally{n.f()}window.addEventListener("mousemove",(function(e){var t=e.pageX/window.innerWidth-.5,n=e.clientY/window.innerHeight-.5;Q.position.x=70*n,Q.position.z=200*-t,f!=p.TRANS_MAX&&(n=-1*(Math.min(e.pageY,j.height)/j.height-.5),T.position.x=9+t,T.position.y=2+n)}))}));var Q=new o.Mesh(new o.SphereGeometry(1,32,32),new o.MeshStandardMaterial({roughness:.7}));Q.position.y=15,F.add(Q);var $=new o.AmbientLight("#ffffff",.5);F.add($);var K=new o.DirectionalLight("#ffffff",.5);K.position.set(4,5,-2),F.add(K);var ee={width:window.innerWidth,height:b.offsetHeight};window.addEventListener("resize",(function(){ee.width=window.innerWidth,ee.height=b.offsetHeight,te.aspect=ee.width/ee.height,te.updateProjectionMatrix(),oe.setSize(ee.width,ee.height),oe.setPixelRatio(Math.min(window.devicePixelRatio,2))}));var te=new o.PerspectiveCamera(75,ee.width/ee.height,.15,200);te.position.x=35,te.position.y=18,te.position.z=0,te.rotation.set(-1.59,0,1.6),F.add(te),p.logCamera2=function(){console.log(te.position),console.log(te.rotation),console.log(te.quaternion)};var ne=new o.Mesh(new o.PlaneGeometry(10,10),new o.MeshStandardMaterial({color:"#ff0000"}));ne.position.set(10,0,10),ne.name="0",ne.rotation.x=-Math.PI/2,F.add(ne),new o.Mesh(new o.OctahedronGeometry(1,0),new o.MeshStandardMaterial({color:"#ffffff"})).position.set(10,10,10);var oe=new o.WebGLRenderer({canvas:b});oe.setSize(ee.width,ee.height),oe.setPixelRatio(Math.min(window.devicePixelRatio,2)),oe.setClearAlpha(0),document.querySelectorAll(".hover-text");var ie=new o.BufferGeometry,ae=new Float32Array(42813),re=new o.PointsMaterial({color:"#ffffff",size:.4,sizeAttenuation:!0}),se=new o.Points(ie,re);se.rotation.x=.5*-Math.PI,se.position.set(0,0,0),F.add(se);var le=function(e,t){for(var n=0,i=-35;i<=35;i++)for(var a=-100;a<100;a++){ae[n++]=i,ae[n++]=a;var r=0;i-e<12&&a-t<12&&(r=5*Math.exp(-((i-e)*(i-e)+(a-t)*(a-t))/6)),ae[n++]=r}ie.setAttribute("position",new o.BufferAttribute(ae,3))};le(0,0);var ce=new o.Quaternion(0,0,0,1);ce.normalize(),window.addEventListener("resize",(function(){j.width=window.innerWidth,j.height=S.offsetHeight,T.aspect=j.width/j.height,T.updateProjectionMatrix(),_.setSize(j.width,j.height),_.setPixelRatio(Math.min(window.devicePixelRatio,2)),ee.width=window.innerWidth,ee.height=b.offsetHeight,te.aspect=ee.width/ee.height,te.updateProjectionMatrix(),oe.setSize(ee.width,ee.height),oe.setPixelRatio(Math.min(window.devicePixelRatio,2))})),te.lookAt(0,0,0);var de=new o.Clock;!function e(t){var n=de.getElapsedTime();n,h&&k.update(n),c.Vx(t),V&&(V.quaternion.normalize(),function(e){var t=new o.Vector3;t.subVectors(Q.position,V.position);var n=Math.min(t.length(),25);t.normalize(),t.multiplyScalar(n),J[0].style.height="".concat(27-.4*t.z+.4*t.x,"%"),J[1].style.height="".concat(27+.4*t.z+.4*t.x,"%"),J[2].style.height="".concat(27-.4*t.z-.4*t.x,"%"),J[3].style.height="".concat(27+.4*t.z-.4*t.x,"%"),t.multiplyScalar(.032),ce.set(.3*t.z,0,-.5*t.x,1),ce.normalize(),V.quaternion.copy(ce),V.position.addVectors(V.position,t),le(V.position.x,-V.position.z);var i,a=d(Z);try{for(a.s();!(i=a.n()).done;){var r=i.value;r.rotation.y=r.rotation.y+.32}}catch(e){a.e(e)}finally{a.f()}}()),_.render(M,T),oe.render(F,te),window.requestAnimationFrame(e)}()}},n={};function o(e){var i=n[e];if(void 0!==i)return i.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,o),a.exports}o.m=t,e=[],o.O=(t,n,i,a)=>{if(!n){var r=1/0;for(d=0;d<e.length;d++){for(var[n,i,a]=e[d],s=!0,l=0;l<n.length;l++)(!1&a||r>=a)&&Object.keys(o.O).every((e=>o.O[e](n[l])))?n.splice(l--,1):(s=!1,a<r&&(r=a));if(s){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[n,i,a]},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={826:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var i,a,[r,s,l]=n,c=0;if(r.some((t=>0!==e[t]))){for(i in s)o.o(s,i)&&(o.m[i]=s[i]);if(l)var d=l(o)}for(t&&t(n);c<r.length;c++)a=r[c],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(d)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i=o.O(void 0,[511],(()=>o(214)));i=o.O(i)})();
//# sourceMappingURL=index.js.map