(()=>{"use strict";var e,t={581:(e,t,o)=>{var n=o(477),i=o(365),a=o(217),r=o(854),s=o(637),l=o(194),c=o(623);function d(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,t){if(e){if("string"==typeof e)return m(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?m(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,s=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return r=e.done,e},e:function(e){s=!0,a=e},f:function(){try{r||null==o.return||o.return()}finally{if(s)throw a}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}window.three=n;var h=!1,u=!1;"#debug"===window.location.hash&&(h=!1,u=!0);var p={TRANS_MAX:.95},f=p.TRANS_MAX,v=!1,g=new r._;g.setDecoderPath("/draco/");var w=new a.E;w.setDRACOLoader(g);var y=new n.TextureLoader,x=null;u&&(x=new s.XS);var b=document.querySelector("canvas.webgl"),S=document.querySelector("canvas.canvas2"),M=new n.Scene,A=y.load("/textures/eyes.png");A.generateMipmaps=!1,A.minFilter=n.NearestFilter,A.center.set(.5,.5);var P=null,I=[],L=[];window.robotColors=I,window.robotBW=L;var C=null;w.load("/models/heroRobot/Hero_robot.glb",(function(e){M.add(e.scene),window.robot=e.scene,e.castShadow=!0;for(var t=0;t<e.scene.children.length;t++){var o=e.scene.children[t];o.castShadow=!0,"displayImg"===o.name&&(o.material.transperent=!0,o.material.map=A,o.material.emissive.set("#000000"),o.material.emissiveMap=A,C=o.material),I[t]=new n.Color,I[t].lerp(o.material.color,1);var i=(o.material.color.r+o.material.color.g+o.material.color.b)/3;L[t]=new n.Color,L[t].r=L[t].g=L[t].b=i,o.material.color.lerp(L[t],1)}e.scene.position.set(4,0,4),e.scene.lookAt(4,0,10),e.scene.rotation.y=Math.PI,P=e,N.lookAt(e.scene.position),x&&x.add(e.scene.rotation,"y").min(-Math.PI).max(Math.PI).step(.01).name("Robot Rotation")}));var E={utransition:{value:0},uColor:{value:new n.Vector3(0,0,0)}},R=new n.MeshPhysicalMaterial({metalness:0,roughness:1,transparent:!0,color:"#d3d3d3"});R.onBeforeCompile=function(e){e.uniforms.utransition=E.utransition,e.uniforms.uColor=E.uColor,e.vertexShader=e.vertexShader.replace("#include <common>","\n        #define USE_UV\n    #include <common>\n    ".concat("uniform float utransition;\nuniform vec3 uColor;\nvarying float vtransition;\nvarying vec3 vColor;\n\n","\n    ")),e.vertexShader=e.vertexShader.replace("#include <uv_vertex>","\n        #include <uv_vertex>\n        vtransition = utransition;\n        vColor = uColor;\n    "),e.fragmentShader=e.fragmentShader.replace("#include <common>","\n        #include <common>\n        #define USE_UV\n        varying float vtransition;\n        varying vec3 vColor;\n    "),e.fragmentShader=e.fragmentShader.replace("#include <color_fragment>","float colorx = 1.0 - step(mod(vUv.x * 100.0, 1.0), vtransition-0.01);\nfloat colory = 1.0 - step(mod(vUv.y * 100.0, 1.0), vtransition-0.01);\nfloat final = colorx * colory;\ndiffuseColor= vec4(diffuseColor.rgb, final);\n")};var z=new n.Mesh(new n.PlaneGeometry(300,300),R);z.position.z=-5,z.position.x=-25,z.receiveShadow=!0,M.add(z),document.getElementsByClassName("hero-text")[0];var T=document.getElementsByClassName("hero-text")[1],B=document.getElementsByClassName("tag-line")[0],X=0,O=function(){!P||h||v||(f===p.TRANS_MAX?(f=0,new l.kX({camX:k.position.x,camY:k.position.y,camZ:k.position.z,ambInten:0,time:1,heroSpotLightPosX:N.position.x,transitionAni:X,robotRotationY:P.scene.rotation.y}).to({camX:9,camY:2,camZ:10,ambInten:.1,time:0,heroSpotLightPosX:42,transitionAni:p.TRANS_MAX,robotRotationY:3.84}).onUpdate((function(e){k.position.set(e.camX,e.camY,e.camZ);var t=0;X=e.transitionAni;var o,i=d(P.scene.children);try{for(i.s();!(o=i.n()).done;){var a=o.value;a.material.color.lerp(I[t],1-e.time),"headDisplayBorder"===a.name&&console.log(a.material.color),t++}}catch(e){i.e(e)}finally{i.f()}N.position.x=e.heroSpotLightPosX,P.scene.rotation.y=e.robotRotationY,E.utransition.value=e.transitionAni,q.intensity=e.ambInten,T.style.color="hsl(100, 0%, ".concat(100*e.time,"%)"),B.style.color="hsl(100, 0%, ".concat(100*e.time,"%)");var r=.5*(1-e.time),s=new n.Color(r,r,r);C.emissive.copy(s)})).easing(l.oY.Exponential.In).onStart((function(){console.log("Animation stoped"),D.stop()})).start()):(f=p.TRANS_MAX,new l.kX({camX:k.position.x,camY:k.position.y,camZ:k.position.z,ambInten:.1,time:0,transitionAni:X,robotRotationY:P.scene.rotation.y}).to({camX:13.75,camY:2.14,camZ:15.22,ambInten:0,time:1,transitionAni:0,robotRotationY:Math.PI}).onUpdate((function(e){k.position.set(e.camX,e.camY,e.camZ);var t=0;X=e.transitionAni;var o,i=d(P.scene.children);try{for(i.s();!(o=i.n()).done;){var a=o.value;a.material.color.lerp(L[t],e.time),"headDisplayBorder"===a.name&&console.log(a.material.color),t++}}catch(e){i.e(e)}finally{i.f()}P.scene.rotation.y=e.robotRotationY,E.utransition.value=e.transitionAni,q.intensity=e.ambInten,T.style.color="hsl(100, 0%, ".concat(100*e.time,"%)"),B.style.color="hsl(100, 0%, ".concat(100*e.time,"%)");var r=.5*(1-e.time),s=new n.Color(r,r,r);C.emissive.copy(s)})).easing(l.oY.Exponential.In).onComplete((function(){console.log("Animation started"),D.start()})).start()))};document.querySelector(".heroWrapper").addEventListener("mouseup",O),window.addEventListener("load",(function(){setTimeout(O,3e3)}));var Y={width:window.innerWidth,height:window.innerHeight},k=new n.PerspectiveCamera(75,Y.width/Y.height,.1,200);k.position.set(13.75,2.14,15.22),k.rotation.set(-.5184,1.26,.5),M.add(k);var _=null;h&&((_=new i.z(k,b)).enableDamping=!0);var j=new n.WebGLRenderer({canvas:b});j.setSize(Y.width,Y.height),j.setPixelRatio(Math.min(window.devicePixelRatio,2)),j.outputEncoding=n.sRGBEncoding,j.setClearAlpha(0),j.shadowMap.enabled=!0,x&&(x.add(k.position,"x").min(-50).max(20).step(.1),x.add(k.position,"y").min(-50).max(20).step(.1),x.add(k.position,"z").min(-50).max(20).step(.1),x.add(k.rotation,"x").min(-Math.PI).max(Math.PI).step(.01),x.add(k.rotation,"y").min(-Math.PI).max(Math.PI).step(.01),x.add(k.rotation,"z").min(-Math.PI).max(Math.PI).step(.01),p.logCamera=function(){console.log(k.position),console.log(k.rotation),console.log(k.quaternion)},x.add(p,"logCamera").name("logCamera"));var q=new n.AmbientLight("#d3d3d3",0);M.add(q);var N=new n.SpotLight("#ffffff",2,100,Math.PI/10);N.position.set(120,24,-7),N.castShadow=!0,N.shadow.mapSize.width=512,N.shadow.mapSize.height=512,N.shadow.camera.near=1,N.shadow.camera.far=50,N.shadow.camera.fov=30,x&&(x.add(q,"intensity").min(0).max(2).step(.01).name("Ambient Light"),x.add(heroDirectionalLight.position,"x").min(-50).max(50).step(.1),x.add(heroDirectionalLight.position,"y").min(-50).max(50).step(.1),x.add(heroDirectionalLight.position,"z").min(-50).max(50).step(.1),x.add(heroDirectionalLight,"intensity").min(0).max(2).step(.01).name("SpotLight")),M.add(N);var D=new l.kX({x:N.position.x,inten:N.intensity}).to({x:-80}).easing(l.oY.Linear.None).duration(4e3).onUpdate((function(e){N.position.x=e.x})).repeat(1/0);if(D.start(),window.spotLight=N,h){var W=new n.SpotLightHelper(N);M.add(W)}z.lookAt(k.position);var H=document.querySelectorAll(".fade-in"),U=document.getElementById("control-fade"),G=document.getElementById("we-provide-title");console.log(H);var V=new IntersectionObserver((function(e,t){e.forEach((function(e){e.intersectionRatio<.5?e.target.classList.remove("appear"):e.target.classList.add("appear")})),U.classList.contains("appear")?(G.classList.add("appear"),console.log("added")):(G.classList.remove("appear"),console.log("removed"))}),{threshold:[0,.5],rootMargin:"-25% 0px -45% 0px"});H.forEach((function(e){V.observe(e)})),window.addEventListener("scroll",(function(){window.scrollY>20&&!v?(f==p.TRANS_MAX&&O(),v=!0):window.scrollY<20&&v&&(v=!1,0==f&&O())})),document.getElementById("form-submit").addEventListener("click",(function(e){e.preventDefault();var t=document.getElementById("form-name").value,o=document.getElementById("form-email").value,n=document.getElementById("form-message").value;if(console.log(o,t),t.length<=0||!(0,c.Z)(o)){var i=document.getElementById("email-response");return i.innerHTML="Enter valid data",i.classList.add("appear"),setTimeout((function(){i.classList.remove("appear")}),2e3),void setTimeout((function(){i.innerHTML="Thanks for your response"}),2100)}fetch("https://backend.ackrobotics.com/api/getInTouch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:o,message:n})}).then((function(e){if(e.ok)return e.json();throw"Server error"})).then((function(e){console.log(e);var t=document.getElementById("email-response");t.classList.add("appear"),setTimeout((function(){t.classList.remove("appear")}),2e3),document.getElementById("form-name").value="",document.getElementById("form-email").value="",document.getElementById("form-message").value=""})).catch((function(e){console.log(e)}))}));var Z=new n.Scene,F=null,J=[],Q=[];Q.push(document.querySelector("#trottle1")),Q.push(document.querySelector("#trottle2")),Q.push(document.querySelector("#trottle3")),Q.push(document.querySelector("#trottle4")),console.log(Q),w.load("./models/drone/drone.glb",(function(e){e.scene.scale.set(.2,.2,.2),(F=e.scene).position.y=15,F.rotation.y=.5*-Math.PI,Z.add(F),console.log(F);var t,o=d(F.children);try{for(o.s();!(t=o.n()).done;){var n=t.value;n.name.startsWith("rot")&&J.push(n)}}catch(e){o.e(e)}finally{o.f()}window.addEventListener("mousemove",(function(e){var t=e.pageX/window.innerWidth-.5,o=e.clientY/window.innerHeight-.5;$.position.x=70*o,$.position.z=200*-t,f!=p.TRANS_MAX&&(o=-1*(Math.min(e.pageY,Y.height)/Y.height-.5),k.position.x=9+t,k.position.y=2+o)}))}));var $=new n.Mesh(new n.SphereGeometry(1,32,32),new n.MeshStandardMaterial({roughness:.7}));$.position.y=15,Z.add($);var K=new n.AmbientLight("#ffffff",.5);Z.add(K);var ee=new n.DirectionalLight("#ffffff",.5);ee.position.set(4,5,-2),Z.add(ee);var te={width:window.innerWidth,height:S.offsetHeight};window.addEventListener("resize",(function(){te.width=window.innerWidth,te.height=S.offsetHeight,oe.aspect=te.width/te.height,oe.updateProjectionMatrix(),ie.setSize(te.width,te.height),ie.setPixelRatio(Math.min(window.devicePixelRatio,2))}));var oe=new n.PerspectiveCamera(75,te.width/te.height,.15,200);oe.position.x=35,oe.position.y=18,oe.position.z=0,oe.rotation.set(-1.59,0,1.6),Z.add(oe),p.logCamera2=function(){console.log(oe.position),console.log(oe.rotation),console.log(oe.quaternion)};var ne=new n.Mesh(new n.PlaneGeometry(10,10),new n.MeshStandardMaterial({color:"#ff0000"}));ne.position.set(10,0,10),ne.name="0",ne.rotation.x=-Math.PI/2,Z.add(ne);var ie=new n.WebGLRenderer({canvas:S});ie.setSize(te.width,te.height),ie.setPixelRatio(Math.min(window.devicePixelRatio,2)),ie.setClearAlpha(0),document.querySelectorAll(".hover-text");var ae=new n.BufferGeometry,re=new Float32Array(42813),se=new n.PointsMaterial({color:"#ffffff",size:.4,sizeAttenuation:!0}),le=new n.Points(ae,se);le.rotation.x=.5*-Math.PI,le.position.set(0,0,0),Z.add(le);var ce=function(e,t){for(var o=0,i=-35;i<=35;i++)for(var a=-100;a<100;a++){re[o++]=i,re[o++]=a;var r=0;i-e<12&&a-t<12&&(r=5*Math.exp(-((i-e)*(i-e)+(a-t)*(a-t))/6)),re[o++]=r}ae.setAttribute("position",new n.BufferAttribute(re,3))};ce(0,0);var de=new n.Quaternion(0,0,0,1);de.normalize(),window.addEventListener("resize",(function(){Y.width=window.innerWidth,Y.height=b.offsetHeight,k.aspect=Y.width/Y.height,k.updateProjectionMatrix(),j.setSize(Y.width,Y.height),j.setPixelRatio(Math.min(window.devicePixelRatio,2)),te.width=window.innerWidth,te.height=S.offsetHeight,oe.aspect=te.width/te.height,oe.updateProjectionMatrix(),ie.setSize(te.width,te.height),ie.setPixelRatio(Math.min(window.devicePixelRatio,2))})),oe.lookAt(0,0,0);var me=new n.Clock;!function e(t){var o=me.getElapsedTime();o,h&&_.update(o),l.Vx(t),F&&(F.quaternion.normalize(),function(e){var t=new n.Vector3;t.subVectors($.position,F.position);var o=Math.min(t.length(),25);t.normalize(),t.multiplyScalar(o),Q[0].style.height="".concat(27-.4*t.z+.4*t.x,"%"),Q[1].style.height="".concat(27+.4*t.z+.4*t.x,"%"),Q[2].style.height="".concat(27-.4*t.z-.4*t.x,"%"),Q[3].style.height="".concat(27+.4*t.z-.4*t.x,"%"),t.multiplyScalar(.032),de.set(.3*t.z,0,-.5*t.x,1),de.normalize(),F.quaternion.copy(de),F.position.addVectors(F.position,t),ce(F.position.x,-F.position.z);for(var i=0,a=J;i<a.length;i++){var r=a[i];r.rotation.y=r.rotation.y+.32}}()),j.render(M,k),ie.render(Z,oe),window.requestAnimationFrame(e)}()}},o={};function n(e){var i=o[e];if(void 0!==i)return i.exports;var a=o[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.m=t,e=[],n.O=(t,o,i,a)=>{if(!o){var r=1/0;for(d=0;d<e.length;d++){for(var[o,i,a]=e[d],s=!0,l=0;l<o.length;l++)(!1&a||r>=a)&&Object.keys(n.O).every((e=>n.O[e](o[l])))?o.splice(l--,1):(s=!1,a<r&&(r=a));if(s){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[o,i,a]},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={826:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var i,a,[r,s,l]=o,c=0;if(r.some((t=>0!==e[t]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)var d=l(n)}for(t&&t(o);c<r.length;c++)a=r[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(d)},o=self.webpackChunk=self.webpackChunk||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var i=n.O(void 0,[586],(()=>n(581)));i=n.O(i)})();
//# sourceMappingURL=index.js.map